<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen Final de Penal - Nivel Experto</title>
    <style>
        :root { --legal: #1a252f; --gold: #c5a059; --paper: #ffffff; }
        body { font-family: 'Times New Roman', serif; background: #e0e0e0; display: flex; justify-content: center; padding: 20px; }
        .exam-sheet { background: var(--paper); width: 100%; max-width: 650px; padding: 40px; border: 1px solid #000; box-shadow: 10px 10px 0px #1a252f; }
        .header { text-align: center; border-bottom: 3px double #000; margin-bottom: 25px; padding-bottom: 10px; }
        .u-tag { color: var(--gold); font-weight: bold; font-size: 0.8rem; text-transform: uppercase; margin-bottom: 10px; display: block; }
        .question { font-size: 1.25rem; font-weight: bold; margin-bottom: 25px; line-height: 1.4; }
        .options { display: flex; flex-direction: column; gap: 10px; }
        .opt { padding: 14px; border: 1px solid #333; background: #fff; cursor: pointer; text-align: left; font-size: 1rem; font-family: inherit; transition: 0.15s; }
        .opt:hover { background: #f4f4f4; border-color: var(--gold); }
        .correct { background: #d4edda !important; border: 2px solid #28a745 !important; font-weight: bold; }
        .wrong { background: #f8d7da !important; border: 2px solid #dc3545 !important; }
        .btn-next { display: none; margin-top: 30px; width: 100%; padding: 15px; background: var(--legal); color: white; border: none; cursor: pointer; font-weight: bold; }
        .result-screen { text-align: center; }
        .res-img { max-width: 100%; height: auto; border: 5px solid white; outline: 1px solid #000; margin-top: 20px; }
        .nota { font-size: 5rem; font-weight: bold; margin: 0; }
    </style>
</head>
<body>

<div class="exam-sheet" id="box">
    <div id="game">
        <div class="header">
            <h2 style="margin:0;">MESA DE EXAMEN FINAL</h2>
            <p id="counter" style="margin:5px 0; font-style: italic; color: #666;"></p>
        </div>
        <span class="u-tag" id="unit"></span>
        <div class="question" id="q-text"></div>
        <div class="options" id="opt-container"></div>
        <button class="btn-next" id="btn-next" onclick="nextQ()">REGISTRAR RESPUESTA</button>
    </div>
</div>

<script>
    const IMG_GANO = "ganaste.jpg"; 
    const IMG_PERDO = "perdiste.jpg";

    const banco = [
        {
            u: "Unidad I: Vida",
            q: "Homicidio en Emoción Violenta (Art. 81, 1º, a):",
            a: "Reclusión de 3 a 6 años o prisión de 1 a 3 años",
            o: ["Reclusión de 3 a 6 años o prisión de 1 a 3 años", "Reclusión de 1 a 3 años o prisión de 3 a 6 años", "Reclusión de 2 a 5 años o prisión de 1 a 4 años", "Reclusión de 3 a 8 años o prisión de 2 a 5 años"]
        },
        {
            u: "Unidad II: Integridad",
            q: "Lesiones Gravísimas (Art. 91):",
            a: "Reclusión o prisión de 3 a 10 años",
            o: ["Reclusión o prisión de 3 a 10 años", "Reclusión o prisión de 1 a 6 años", "Reclusión o prisión de 5 a 15 años", "Reclusión o prisión de 2 a 8 años"]
        },
        {
            u: "Unidad IV: Integridad Sexual",
            q: "Abuso Sexual Ultrajante (Art. 119, 2º p.):",
            a: "Reclusión o prisión de 4 a 10 años",
            o: ["Reclusión o prisión de 4 a 10 años", "Reclusión o prisión de 6 a 15 años", "Reclusión o prisión de 3 a 10 años", "Reclusión o prisión de 5 a 12 años"]
        },
        {
            u: "Unidad VI: Propiedad",
            q: "Extorsión mediante intimidación (Art. 168):",
            a: "Reclusión o prisión de 5 a 10 años",
            o: ["Reclusión o prisión de 5 a 10 años", "Reclusión o prisión de 3 a 8 años", "Reclusión o prisión de 4 a 12 años", "Reclusión o prisión de 1 a 6 años"]
        },
        {
            u: "Unidad X: Fe Pública",
            q: "Falsificación de Documento Público (Art. 292):",
            a: "Prisión de 1 a 6 años",
            o: ["Prisión de 1 a 6 años", "Prisión de 2 a 8 años", "Prisión de 1 a 5 años", "Prisión de 3 a 10 años"]
        },
        {
            u: "Unidad I: Vida",
            q: "Homicidio Culposo básico (Art. 84):",
            a: "Prisión de 1 a 5 años e inhabilitación especial",
            o: ["Prisión de 1 a 5 años e inhabilitación especial", "Prisión de 2 a 6 años e inhabilitación especial", "Prisión de 1 a 3 años e inhabilitación especial", "Prisión de 3 a 6 años e inhabilitación especial"]
        },
        {
            u: "Unidad VI: Propiedad",
            q: "Hurto Simple (Art. 162):",
            a: "Prisión de un mes a dos años",
            o: ["Prisión de un mes a dos años", "Prisión de un mes a seis años", "Prisión de dos a ocho años", "Prisión de un año a seis años"]
        },
        {
            u: "Unidad VI: Propiedad",
            q: "Robo Simple (Art. 164):",
            a: "Prisión de un mes a seis años",
            o: ["Prisión de un mes a seis años", "Prisión de un mes a dos años", "Prisión de un año a seis años", "Prisión de dos a ocho años"]
        }
    ];

    let n = 0; let score = 0;
    let pool = banco.sort(() => Math.random() - 0.5);

    function start() {
        const d = pool[n];
        document.getElementById("counter").innerText = `Pregunta ${n+1}/${pool.length} | Aciertos: ${score}`;
        document.getElementById("unit").innerText = d.u;
        document.getElementById("q-text").innerText = d.q;
        const box = document.getElementById("opt-container");
        box.innerHTML = "";
        document.getElementById("btn-next").style.display = "none";

        [...d.o].sort(() => Math.random() - 0.5).forEach(t => {
            const b = document.createElement("button");
            b.className = "opt"; b
