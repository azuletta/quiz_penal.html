<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulacro Integral - Penal Especial</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #34495e;
            --accent: #2980b9;
            --success: #27ae60;
            --error: #c0392b;
            --bg: #f0f2f5;
        }
        body { font-family: 'Segoe UI', sans-serif; background-color: var(--bg); margin: 0; padding: 20px; display: flex; justify-content: center; }
        .quiz-container { background: white; width: 100%; max-width: 700px; padding: 40px; border-radius: 12px; box-shadow: 0 8px 30px rgba(0,0,0,0.1); }
        .unit-tag { background: var(--accent); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; text-transform: uppercase; margin-bottom: 10px; display: inline-block; }
        h1 { color: var(--primary); font-size: 1.6rem; margin-top: 0; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .stats { display: flex; justify-content: space-between; margin-bottom: 20px; color: #555; font-weight: bold; }
        .question { font-size: 1.3rem; margin-bottom: 25px; color: var(--primary); line-height: 1.5; }
        .options { display: grid; gap: 10px; }
        .option { padding: 15px; border: 2px solid #ddd; border-radius: 8px; cursor: pointer; text-align: left; background: white; font-size: 1rem; transition: 0.2s; }
        .option:hover { border-color: var(--accent); background: #f7fbff; }
        .option.correct { background: #d4edda; border-color: var(--success); color: #155724; }
        .option.wrong { background: #f8d7da; border-color: var(--error); color: #721c24; }
        .btn-next { display: none; width: 100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; margin-top: 25px; }
        .btn-next:hover { background: #1a252f; }
        .summary-screen { text-align: center; }
        .score-circle { font-size: 4rem; color: var(--accent); margin: 20px 0; }
    </style>
</head>
<body>

<div class="quiz-container" id="quiz-box">
    <div id="game">
        <div class="unit-tag" id="unit-label">Unidad I</div>
        <h1>Simulacro Penal Especial</h1>
        <div class="stats">
            <span id="progress">Pregunta 1/20</span>
            <span id="score">Aciertos: 0</span>
        </div>
        <div class="question" id="question">Cargando...</div>
        <div class="options" id="options-container"></div>
        <button class="btn-next" id="btn-next" onclick="loadNext()">Siguiente Pregunta</button>
    </div>
</div>

<script>
    const db = [
        // UNIDAD I & II: CONTRA LAS PERSONAS
        { u: "Unidad I: Vida", q: "Homicidio en estado de emoción violenta (Art. 81 inc. 1º a)", a: "Reclusión de 3 a 6 años o Prisión de 1 a 3 años", o: ["Reclusión de 3 a 6 años o Prisión de 1 a 3 años", "1 a 5 años", "8 a 25 años", "3 a 10 años"] },
        { u: "Unidad I: Vida", q: "Instigación o ayuda al suicidio (Art. 83) si se consumó", a: "Prisión de 1 a 4 años", o: ["Prisión de 1 a 4 años", "Prisión de 2 a 6 años", "Reclusión perpetua", "Multa de $10.000"] },
        { u: "Unidad II: Integridad", q: "Lesiones Gravísimas (Art. 91)", a: "3 a 10 años de reclusión o prisión", o: ["1 a 6 años", "3 a 10 años de reclusión o prisión", "5 a 15 años", "1 mes a 1 año"] },
        { u: "Unidad II: Salud", q: "Abuso de armas (disparo de arma de fuego, Art. 104)", a: "1 a 3 años de prisión", o: ["1 a 3 años de prisión", "6 meses a 2 años", "Multa e inhabilitación", "3 a 6 años"] },
        
        // UNIDAD III & IV: HONOR Y SEXUALIDAD
        { u: "Unidad III: Honor", q: "Calumnia (Art. 109)", a: "Multa de $3.000 a $30.000", o: ["Prisión de 1 a 3 años", "Multa de $3.000 a $30.000", "Multa de $1.500 a $20.000", "Inhabilitación"] },
        { u: "Unidad IV: Integridad Sexual", q: "Abuso sexual con acceso carnal (Art. 119 3er párr.)", a: "6 a 15 años de reclusión o prisión", o: ["6 a 15 años de reclusión o prisión", "8 a 20 años", "4 a 10 años", "10 a 25 años"] },
        { u: "Unidad IV: Integridad Sexual", q: "Grooming (Ciberacoso, Art. 131)", a: "6 meses a 4 años de prisión", o: ["1 a 3 años", "6 meses a 4 años de prisión", "2 a 6 años", "Multa solamente"] },

        // UNIDAD V: LIBERTAD
        { u: "Unidad V: Libertad", q: "Privación ilegítima de la libertad (Art. 141)", a: "6 meses a 3 años de prisión o reclusión", o: ["6 meses a 3 años de prisión o reclusión", "2 a 6 años", "1 a 4 años", "15 días a 1 año"] },
        { u: "Unidad V: Libertad", q: "Trata de personas mayores de edad (Art. 145 bis)", a: "4 a 8 años de prisión", o: ["4 a 8 años de prisión", "5 a 10 años", "10 a 15 años", "2 a 6 años"] },

        // UNIDAD VI: PROPIEDAD
        { u: "Unidad VI: Propiedad", q: "Hurto Simple (Art. 162)", a: "1 mes a 2 años de prisión", o: ["1 mes a 2 años de prisión", "1 mes a 6 años", "6 meses a 3 años", "15 días a 1 año"] },
        { u: "Unidad VI: Propiedad", q: "Robo Simple (Art. 164)", a: "1 mes a 6 años de prisión", o: ["1 mes a 6 años de prisión", "1 a 6 años", "3 a 10 años", "2 a 8 años"] },
        { u: "Unidad VI: Propiedad", q: "Extorsión (Art. 168)", a: "5 a 10 años de reclusión o prisión", o: ["5 a 10 años de reclusión o prisión", "8 a 20 años", "3 a 8 años", "2 a 6 años"] },
        { u: "Unidad VI: Propiedad", q: "Defraudación / Estafa genérica (Art. 172)", a: "1 mes a 6 años de prisión", o: ["1 mes a 6 años de prisión", "6 meses a 4 años", "1 a 4 años", "Multa únicamente"] },
        
        // UNIDADES FINALES: SEGURIDAD Y FE PÚBLICA
        { u: "Unidad VII: Seguridad", q: "Tenencia ilegítima de arma de fuego de guerra (Art. 189 bis)", a: "2 a 6 años de prisión", o: ["2 a 6 años de prisión", "6 meses a 2 años", "3 a 8 años", "1 a 4 años"] },
        { u: "Unidad X: Fe Pública", q: "Falsificación de moneda (Art. 282)", a: "3 a 15 años de reclusión o prisión", o: ["1 a 6 años", "3 a 15 años de reclusión o prisión", "5 a 20 años", "2 a 10 años"] },
        { u: "Unidad X: Fe Pública", q: "Falsificación de documento público (Art. 292)", a: "1 a 6 años de prisión", o: ["1 a 6 años de prisión", "3 a 8 años", "6 meses a 2 años", "1 a 4 años"] }
    ];

    let current = 0;
    let score = 0;
    let pool = [...db].sort(() => Math.random() - 0.5); // Mezclar al iniciar

    function loadQuestion() {
        const data = pool[current];
        document.getElementById("unit-label").innerText = data.u;
        document.getElementById("question").innerText = `¿Qué pena establece el Código para el delito de: ${data.q}?`;
        document.getElementById("progress").innerText = `Pregunta ${current + 1}/${pool.length}`;
        document.getElementById("btn-next").style.display = "none";
        
        const container = document.getElementById("options-container");
        container.innerHTML = "";
        
        const shuffledOptions = [...data.o].sort(() => Math.random() - 0.5);
        shuffledOptions.forEach(opt => {
            const btn = document.createElement("button");
            btn.className = "option";
            btn.innerText = opt;
            btn.onclick = () => check(btn, opt, data.a);
            container.appendChild(btn);
        });
    }

    function check(btn, selected, correct) {
        const all = document.querySelectorAll(".option");
        all.forEach(b => b.style.pointerEvents = "none");

        if(selected === correct) {
            btn.classList.add("correct");
            score++;
            document.getElementById("score").innerText = `Aciertos: ${score}`;
        } else {
            btn.classList.add("wrong");
            all.forEach(b => { if(b.innerText === correct) b.classList.add("correct"); });
        }
        document.getElementById("btn-next").style.display = "block";
    }

    function loadNext() {
        current++;
        if(current < pool.length) {
            loadQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        const perc = Math.round((score/pool.length)*100);
        document.getElementById("quiz-box").innerHTML = `
            <div class="summary-screen">
                <h1>¡Simulacro Completado!</h1>
                <div class="score-circle">${perc}%</div>
                <p>Resultado: ${score} correctas de ${pool.length}</p>
                <p>${perc >= 80 ? "¡Excelente nivel! Estás para el 10." : "Buen intento, seguí repasando las escalas penales."}</p>
                <button class="btn-next" style="display:block" onclick="location.reload()">Reiniciar Simulacro</button>
            </div>
        `;
    }

    loadQuestion();
</script>

</body>
</html>
